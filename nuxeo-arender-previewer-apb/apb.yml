version: 1.0
name: nuxeo-arender-previewer-apb
description: ARender previewer deployment in Openshift for Nuxeo
bindable: True
async: optional
tags:
  - nuxeo
  - arender
metadata:
  displayName: ARender environment for Nuxeo
  imageUrl: "https://www.nuxeo.com/assets/imgs/logo340x60.png"
  longDescription:
    This Deploys an ARender previewer environment that can be used with Nuxeo
  dependencies: []
  providerDisplayName: "Nuxeo"
plans:
  - name: default
    description: Default ARender previewer deployment
    free: true
    metadata: {}
    parameters:
    - name: project_name
      type: string
      title: Project Name
      default: arender
      display_group: Project properties

    - name: previewer_nuxeo_url
      default: 'https://nuxeo.url/nuxeo'
      type: string
      title: Url of the Nuxeo client
      display_group: Client Nuxeo
    - name: previewer_nuxeo_oauth_secret
      default: 'OAUTH2_SECRET'
      type: string
      title: Shared secret for OAuth2 exchange
      display_group: Client Nuxeo

    - name: arender_broker_service_name
      default: nuxeo-arender-0-rendition-broker.int-arender-test.svc
      type: string
      title: URL of ARender rendition broker
      display_group: ARender Rendition

    - name: arender_previewer_image
      type: string
      title: ARender previewer image
      default: docker-private-arondor-group.packages.nuxeo.com/arender-hmi
      display_group: Container Image
    - name: arender_previewer_image_version
      type: string
      title: ARender previewer image
      default: "4.0.6.NX2.0"
      display_group: Container Image

    - name: arender_previewer_image_pull_existing_secret
      type: string
      title: Name of secret to use to pull image (Leave empty if yout want to use user/password)
      default: docker-private-nuxeo
      display_group: Container Image
    - name: arender_previewer_image_pull_host
      type: string
      title: Docker repository to use for secret
      default: docker-private-arondor-group.packages.nuxeo.com
      display_group: Container Image
    - name: arender_previewer_image_pull_username
      type: string
      title: Username to use to pull the Docker image
      default: nuxeo
      display_group: Container Image
    - name: arender_previewer_image_pull_password
      type: password
      title: Password to use to pull the Docker image
      display_group: Container Image

    - name: previewer_image_pullPolicy
      default: 'IfNotPresent'
      type: enum
      enum: ['IfNotPresent', 'Always', 'Never']
      title: ARender Previewer image pull policy
      display_group: Container Specs

    - name: previewer_podAnnotations
      default: '{}'
      type: string
      title: Annotations to be added to ARender Previewer pods
      display_type: textarea
      display_group: Container Specs
    - name: previewer_securityContext
      default: '{}'
      type: string
      title: Previewer Security context for the pod
      display_type: textarea
      display_group: Container Specs
    - name: previewer_resources
      default: '{"limits": {"cpu": "2","memory": "2Gi"},"requests": {"cpu": "1","memory": "1Gi"}}'
      type: string
      title: Previewer Pod resource requests and limits
      display_type: textarea
      display_group: Container Specs
