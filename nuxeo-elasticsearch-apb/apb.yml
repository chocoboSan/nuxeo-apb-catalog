version: 1.0
name: nuxeo-elasticsearch-apb
description: This is a sample application generated by apb init
bindable: False
async: optional
metadata:
  displayName: nuxeo-elasticsearch
plans:
  - name: secured
    description: This default plan deploys nuxeo-elasticsearch-apb
    free: True
    metadata: {}
    parameters:
      - title: The name of the backings stack.
        name: NUXEO_BACKINGS_NAME
        required: true
        default: "nuxeo-backings"
        type: string
      - title: Hashed password for elastic user (bcrypt)
        name: SEARCHGUARD_HASHED_PASSWORD
        required: true
        default: "password"
        type: string
      - title: Elasticsearch cluster name
        name: CLUSTER_NAME
        default: nuxeo
        type: string
        required: true
      - title: The image repository
        name: IMAGE_REPOSITORY
        default: docker.elastic.co/elasticsearch/elasticsearch
        type: string
        required: true
      - title: The image tag
        name: IMAGE_TAG
        default: 5.6.5
        type: string
        required: true
      - title: The image pull policy
        name: IMAGE_PULL_POLICY
        default: IfNotPresent
        type: string
        required: true
      - title: The client name
        name: CLIENT_NAME
        default: client
        type: string
        required: true
      - title: The client replica count
        name: CLIENT_REPLICA_COUNT
        default: "2"
        type: string
        required: true
      - title: The client service type
        name: CLIENT_SERVICE_TYPE
        default: ClusterIP
        type: string
        required: true
      - title: The client heap size
        name: CLIENT_HEAP_SIZE
        default: 256m
        type: string
        required: true
      - title: The amount of CPU to request for the client
        name: CLIENT_REQUESTS_CPU
        required: true
        default: 25m
        type: string
      - title: The amount of memory to request for the client
        name: CLIENT_REQUESTS_MEMORY
        required: true
        default: 256Mi
        type: string
      - title: The CPU limit for the client
        name: CLIENT_LIMITS_CPU
        required: true
        default: "1"
        type: string
      - title: The master name
        name: MASTER_NAME
        default: master
        type: string
        required: true
      - title: The master replica count
        name: MASTER_REPLICA_COUNT
        default: "3"
        type: string
        required: true
      - title: The master heap size
        name: MASTER_HEAP_SIZE
        default: 256m
        type: string
        required: true
      - title: The amount of CPU to request for the master
        name: MASTER_REQUESTS_CPU
        required: true
        default: 25m
        type: string
      - title: The amount of memory to request for the master
        name: MASTER_REQUESTS_MEMORY
        required: true
        default: 256Mi
        type: string
      - title: The CPU limit for the master
        name: MASTER_LIMITS_CPU
        required: true
        default: "1"
        type: string
      - title: Size of persistent storage for the master node
        name: MASTER_PERSISTENCE_SIZE
        default: 4Gi
        type: string
        required: true
      - title: Persistent storage class name for the master node
        name: MASTER_PERSISTENCE_STORAGE_CLASS_NAME
        default: "aws-fast"
        type: string
        required: false
      - title: The data node name
        name: DATA_NAME
        default: data
        type: string
        required: true
      - title: The data node replica count
        name: DATA_REPLICA_COUNT
        default: "3"
        type: string
        required: true
      - title: The data node heap size
        name: DATA_HEAP_SIZE
        default: 1024m
        type: string
        required: true
      - title: The amount of CPU to request for the data node
        name: DATA_REQUESTS_CPU
        required: true
        default: 25m
        type: string
      - title: The amount of memory to request for the data node
        name: DATA_REQUESTS_MEMORY
        required: true
        default: 1024Mi
        type: string
      - title: The CPU limit for the data node
        name: DATA_LIMITS_CPU
        required: true
        default: "1"
        type: string
      - title: Size of persistent storage for the data node
        name: DATA_PERSISTENCE_SIZE
        default: 10Gi
        type: string
        required: true
      - title: Persistent storage class name for the data node
        name: DATA_PERSISTENCE_STORAGE_CLASS_NAME
        default: "aws-fast"
        type: string
        required: false
      - title: Termination Grace Period in seconds for the data node
        name: DATA_TERMINATION_GRACE_PERIOD
        default: "3600"
        type: string
        required: true
      - name: certificate_validity
        title: Certificate validity period in days
        default: 365
        type: string
        required: true

